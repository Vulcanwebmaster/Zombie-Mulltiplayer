{
  "name": "bouncy",
  "description": "route incoming http requests to http servers",
  "version": "2.0.3",
  "repository": {
    "type": "git",
    "url": "git://github.com/substack/bouncy.git"
  },
  "main": "index.js",
  "bin": {
    "bouncy": "bin/bouncy.js"
  },
  "keywords": [
    "http",
    "proxy",
    "router",
    "load",
    "balancer"
  ],
  "scripts": {
    "test": "tap test/*.js"
  },
  "dependencies": {
    "http-raw": "~1.1.0"
  },
  "devDependencies": {
    "tap": "~0.3.3",
    "lazy": "1.0.x",
    "websocket-server": "~1.4.04",
    "wsclient": "~0.2.0",
    "chunky": "~0.0.0"
  },
  "license": "MIT",
  "author": {
    "name": "James Halliday",
    "email": "mail@substack.net",
    "url": "http://substack.net"
  },
  "readme": "# bouncy\n\nroute http requests to incoming http servers\n\nbouncy uses [http-raw](http://github.com/substack/http-raw) to extend the core\nnode http apis with fully transparent streaming without resulting to\nre-normalizing the requests.\n\nBecause bouncy doesn't touch the underlying data unless you explicitly tell it\nto, upgraded connections like websockets just work without doing anything\nspecial.\n\n[![build status](https://secure.travis-ci.org/substack/bouncy.png)](http://travis-ci.org/substack/bouncy)\n\n![trampoline](http://substack.net/images/trampoline.png)\n\n# example\n\n## route.js\n\nRoute requests based on the host field to servers on ports 8001 and 8002:\n\n``` js\nvar bouncy = require('bouncy');\n\nvar server = bouncy(function (req, res, bounce) {\n    if (req.headers.host === 'beep.example.com') {\n        bounce(8001);\n    }\n    else if (req.headers.host === 'boop.example.com') {\n        bounce(8002);\n    }\n    else {\n        res.statusCode = 404;\n        res.end('no such host');\n    }\n});\nserver.listen(8000);\n```\n\n\n# command-line\n\nJust create a `routes.json` file like this:\n\n````javascript\n{\n    \"beep.example.com\" : 8000,\n    \"boop.example.com\" : 8001\n}\n````\n\nThen point the `bouncy` command at this `routes.json` file and give it a port to\nlisten on:\n\n```\nbouncy routes.json 80\n```\n\nThe `routes.json` file should just map host names to host/port combos.\nUse a colon-separated string to specify a host and port in a route.\n\nUse `\"\"` for the host as a default route.\n\n# var server = bouncy(opts={}, cb)\n\n`bouncy(cb)` returns a new net.Server object that you can `.listen()` on.\n\nIf you specify `opts.key` and `opts.cert`, the connection will be set to secure\nmode using tls. Do this if you want to make an https router.\n\nIf the arity of `cb` is 3, you'll get the response object `res` in\n`cb(req, res, bounce)`.\nOtherwise you just get `cb(req, bounce)`.\n\n## bounce(stream, opts={})\n\nCall this function when you're ready to bounce the request to a stream.\n\nThe exact request that was received will be written to `stream` and future\nincoming data will be piped to and from it.\n\nTo send data to a different url path on the destination stream, you can specify\n`opts.path`.\n\nYou can specify header fields to insert into the request with `opts.headers`.\n\nBy default, `\"x-forwarded-for\"`, `\"x-forwarded-port\"`, and `\"x-forwarded-proto\"`\nare all automatically inserted into the outgoing header.\n\n`bounce()` returns the stream object that it uses to connect to the remote host.\n\n## bounce(port, ...), bounce(host, port, ...), bounce(url)\n\nThese variants of `bounce()` are sugar for\n`bounce(net.connect(port))`\nand\n`bounce(net.connect(port, host))`.\n\nOptionally you can pass port and host keys to `opts` and it does the same thing.\n\nPassing `bounce()` a string that looks like a url (with or without `\"http://\"`)\nwill set the opts.host, opts.port, and opts.path accordingly.\n\n# benchmark summary\n\n```\n              small message     4M message\n                 (#/sec)          (#/sec)\n           .----------------------------------\n    direct |     2558.10          135.47\nhttp-proxy |      537.30           36.72\n    bouncy |      522.69           38.03\n```\n\nSee bench/ for the complete results.\n\n# install\n\nWith [npm](http://npmjs.org), to get the library do:\n\n```\nnpm install bouncy\n```\n\nor to install the command-line tool do:\n\n```\nnpm install -g bouncy\n```\n\n# license\n\nMIT\n",
  "readmeFilename": "readme.markdown",
  "_id": "bouncy@2.0.3",
  "dist": {
    "shasum": "c5840d0bc31ca4c8e81ddc9b82e82775101d4904"
  },
  "_from": "bouncy@",
  "_resolved": "https://registry.npmjs.org/bouncy/-/bouncy-2.0.3.tgz"
}
